{% extends 'base.html.twig' %}
{% import "macros/forms.html.twig" as forms %}
{% import "macros/a.html.twig" as a %}
{% import "macros/badges.html.twig" as badge %}
{% block title %}{{ proposal.title }}{% endblock %}
{% block content %}
    <div class="btn-toolbar">

        {{ a.back('proposal_index') }}
        {{ a.edit('proposal_edit', {'id':proposal.id}) }}
        {{ include('proposal/_delete_form.html.twig') }}
    </div>
    <h1>Proposal: <strong>{{ proposal.title }}</strong></h1>
    {% set widgetClass = "widget-info" %}
    {% set widgetBody %}
        <div class="d-flex justify-content-around">
            <div>
                #{{ proposal.id }}<br/>
                <label class="label label-default">{{ proposal.client }}</label><br/>
            </div>
            <div>
                Status {{ proposal.status }}<br/>
                Enabled {{ proposal.enabled ? 'Yes' : 'No' }}
            </div>
            <div>
                CreatedAt {{ proposal.createdAt ? proposal.createdAt|date : '' }}<br/>
                UpdatedAt {{ proposal.updatedAt ? proposal.updatedAt|date : '' }}
            </div>
        </div>
    {% endset %}
    {% include '@App/Dashboard/_widget_flat.html.twig' %}
    <hr/>
    <h2>Sections</h2>
    {{ include('proposal/_sections.html.twig', {'proposal_details':proposal.details}) }}
    <h2>Milestones</h2>
    {{ include('proposal/_milestones.html.twig', {'proposal_details':proposal.details}) }}

    {{ a.add('proposal_details_new', {'proposal':proposal.id}) }}
{% endblock %}
