{% extends 'base.html.twig' %}

{% block panelTitle %}Import Transactions From Toshl{% endblock %}
{% block panelBack %}<a href="{{ path('transactions_index') }}" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-arrow-left"></span></a>{% endblock %}

{% block panelBody %}
    <div class="panel-body">
        {{ form_start(form) }}
        {{ form_widget(form) }}
        <button type="submit" value="Create" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span></button>
            {{ form_end(form) }}
    </div>
    <div class="panel-footer">
        {{ transactions.count}}
        {{ categories.count }}
        {{ tags.count }}
    </div>
    <table class="table table-bordered table-stripped">
        <thead>
            <tr>
                <th>Amount</th>
                <th>Date</th>
                <th>Category</th>
                <th>Tags</th>
            </tr>
        </thead>
        <tbody>
            {% for transaction in transactions %}
                <tr>
                    <td>{{ transaction.amount }}</td>
                    <td>{% if transaction.date %}{{ transaction.date|date('Y-m-d') }}{% endif %}</td>
                    <td>{{ transaction.category.category }}</td>
                    <td>
                        {% for tag in transaction.tags %}
                            <label class="label label-default">{{ tag.tag }}</label>
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
