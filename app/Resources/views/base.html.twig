{% import "macros/forms.html.twig" as forms %}
{% import "macros/a.html.twig" as a %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock %} | myApp</title>
    {% block stylesheets %}
      <!-- Bootswatch Darkly theme-->
      <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
      <link rel="stylesheet" type="text/css" href="/css/bootstrap.darkly.min.css"/>
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/jquery-ui.theme.min.css" />
      <link rel="stylesheet" type="text/css" href="/css/chosen.min.css" />
      <!-- Custom Styling -->
      <link rel="stylesheet" href="/css/common.css"/>
      <link rel="stylesheet" href="/css/custom.css"/>
    {% endblock %}
    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
  </head>
  <body class="{% block bodyClasses %}{{ get_controller_name() }} {{ get_action_name() }}{% endblock %}">
    {% block body %}
      {% block nav %}
        {% include 'nav.html.twig' %}
      {% endblock %}
      <div class="container-fluid">
        {% block container %}
          {% block pageActions %}
            <div class="floating-action">
              {% block floatingActions %}
              {% endblock %}
            </div>
          {% endblock %}
        {% block formStart %}{% endblock %}
        {% block content %}
          {% if app.session.flashbag.peekAll|length > 0 %}
            {% set typeCheck = '' %}
            {% for type, flashMessages in app.session.flashbag.all %}
              {% if(typeCheck != type and typeCheck != '' ) %}</div>{% endif %}
              {% if(typeCheck != type ) %}
              <div class="flash_{{ type }}">
                {% set typeCheck = type %}
              {% endif %}
              {% for message in flashMessages %}
                <div class="alert alert-dismissible alert-{{ type == "error"? 'danger':'info' }}">
                  <button type="button" class="close" data-dismiss="alert">Ã—</button>
                  {% if type in ['error_raw', 'success_raw', 'warning_raw'] %}
                    {{ message|raw }}
                  {% else %}
                    {{ message }}
                  {% endif %}
                </div>
              {% endfor %}
            {% endfor %}
          </div>
        {% endif %}
        {% block panel %}
          <div class="panel panel-{% block panelClass %}default{% endblock %}">
            {% block panelHeading %}
              <div class="panel-heading clearfix">
                {% block panelBack %}
                  <a href="{{ path('dashboard') }}" 
                     class="btn btn-default btn-sm">
                    <span class="glyphicon glyphicon-dashboard"></span>
                  </a>
                {% endblock %}
                <span class="panel-title">{% block panelTitle %}{% endblock %}</span>
                <small class="panel-title-small">{% block panelTitleSmall %}{% endblock %}</small>
                <span class="panel-title-labels">{% block panelTitleLabels %}{% endblock %}</span>
                <div class="pull-right">{% block panelHeadingRight %}{% endblock %}</div>
              </div>
            {% endblock %}
            {% block panelBody %} {% endblock %}
          </div>
        {% endblock %}
      {% endblock %}
      {% block formEnd %} {% endblock %}
    {% endblock %}
  </div>
  <footer>
    {% block footer %}
    {% endblock %}
  </footer>
{% endblock %}
{% block javascripts %}
  <script type="text/javascript">
    var tasks_path = '{{ path('tasks_index') }}';
    var tasks_order = '{{ path('tasks_order') }}';
  </script>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="/js/jquery.min.js"></script>
  <!-- Latest compiled and minified JavaScript -->
  <script src="/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
  <script type="text/javascript" src="/js/chosen.jquery.min.js"></script>
  <script type="text/javascript" src="/js/common.js"></script>
  <script type="text/javascript" src="/js/tasks.js"></script>
{% endblock %}
</body>
</html>
