{% extends 'base.html.twig' %}
{% import "tasks/tasks_macros.html.twig" as tasks_view %}

{% block title %}Focus{% endblock %}
{% block nav %}{% endblock %}
{% block container %}
  <div class="floating-action" style="top: 25px;">
    <a href="{{ path('dashboard') }}" class="bg-embed"><span class="glyphicon glyphicon-home"></span></a>
  </div>
  <div class="floating-action" style="top: 75px;">
    <a href="{{ path('focus') }}" class="bg-embed"><span class="glyphicon glyphicon-refresh"></span></a>
  </div>
  <div class="floating-action">
    <a class="bg-primary" href="{{ path('tasks_new')}}"><span class="glyphicon glyphicon-plus"></span></a>
  </div>

  <div class="container">
    {{ tasks_view.ul(tasks) }}
  </div>

{% endblock %}
{% block javascripts %}
  {{ parent() }}
  <script type="text/javascript">
    $(document).ready(function () {
      $('.task-list-name').dblclick(function () {
        $tasklist = $(this).data('tasklist');
        $('.task-list li').each(function () {
          if ($(this).children('.task-list-name').text() != $tasklist) {
            $(this).hide();
          }
        });
      });
      drawFocusTasks();
      focusTitle();
    });
  </script>
  <script type="text/javascript">
    $(document).ready(focusInit());
  </script>
{% endblock %}
