{% extends 'base.html.twig' %}

{% block container %}
    <style type="text/css">

    </style>
    <div class="row">
        <div style="display: inline;">
            <a href="{{ path('days_new') }}" class="floating-action bg-primary" role="button"><span class="glyphicon glyphicon-plus"></span></a>
        </div>
        <div class="col-sm-4 col-sm-offset-4">
            {# TODO: color items #}
            {% set status = ['danger', 'warning', 'primary', 'success', 'info'] %}
            {% for day in days %}
                {% set diff = date(day.deadline).diff(date()) %}
                <div class="panel panel-default">
                    <table class="table {{ day.complete ? "completed" }} days-table">
                        <tbody>
                            <tr>
                                <td class="h3 name" style="vertical-align: middle;">
                                    {{ day.name }}
                                    <small class="edit-link">
                                        <sup>
                                            <a href="{{ path('days_edit', { 'id': day.id }) }}" class="btn btn-xs text-warning">
                                                <span class="glyphicon glyphicon-pencil"></span>
                                            </a>
                                        </sup>
                                    </small>
                                </td>
                                <td  style="width: 25%;" class="h1 bg-{{ cycle(status, loop.index0 ) }} text-center days">{{ diff.days }}</td>
                            </tr>
                            <tr>
                                <td style="vertical-align: bottom;"><sup>{{ day.deadline|date('D M d, Y') }}</sup></td>
                                <td class="bg-{{ cycle(status, loop.index0 ) }} text-center days-line"><sup>days<br/>{{ diff.invert ? "left" : "passed"}}</sup></td>
                            </tr>
                        </tbody>
                    </table>
                    {# TODO: completed items #}
                    {# <li class="list-group-item">{% if day.complete %}Yes{% else %}No{% endif %}</li> #}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
